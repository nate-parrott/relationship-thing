<!DOCTYPE html>
<html>
<head>
	<meta charset='utf-8'/>
	<title>How Couples Meet &amp; Stay Together</title>
	<link rel='stylesheet' href='/static/shared.css'/>
	<script src='http://d3js.org/d3.v3.min.js' charset='utf-8'></script>
	<script src='https://code.jquery.com/jquery-2.1.4.min.js'></script>
	<script src='/static/fieldNames.js'></script>
	<script src='/static/data.js'></script>
	
	<!-- import graphs -->
	<script src='/static/scatterPlot.js'></script>
	<script src='/static/distributionPlot.js'></script>
	<script src='/static/graph.js'></script>
</head>
<body>
		
	<div id='title' class='page full-height vertically-centered-outer red title'>
		<div class='vertically-centered-inner'>
			<div class='text-column'>
				<h1>How Couples Meet &amp; Stay Together</h1>
				<h5>A CS1951A Final Project by Bayla Weick, Tauseef Khan, Nate Parrott &amp; Jessica Liang</h5>
			</div>
		</div>
	</div>

	<div class='page'>
	  <div class='text-column'>
	    <h1><u>Introduction</u></h1>
	       <p>Talk about motivations etc.</p>
	    <h2><u>Dataset</u></h2>
	       <p>Explain content of data set etc.</p>
	    <h1><u>Methodology</u></h1>
	       <p>Talk about methodology of collecting information we cared about...</p>
	    <h2><u>Correlations</u></h2>
	       <p>Explain general idea of looking at correlations and results are below...</p>
	  </div>
	</div>
	
	<div class='page centered'>
		<div class='text-column'>
			<h1>How satisfied are people with their relationships?</h1>
			<h3>On a scale of 1-4, where 4 is the most positive.</h3>
			<div class='graph distribution' data-x='relationship_quality' data-buckets='4'></div>
		</div>
			<p>EXPLANATION of results...and why we want to display this data...important to understand that most of data is positive...</p>
	</div>
	
	<div class='page'>
		<div class='text-column'>
			<h1>Do Couples' Age Differences Matter?</h1>
			<div class='graph scatter' data-x='age_difference' data-y='relationship_quality'></div>
			<table class='stats'>
				<thead>
					<tr>
						<td>Correlation</td>
						<td>Significant?</td>
					</tr>
				</thead>
				<tbody>
					<tr>
						<td>Slightly negative (Pearson coefficient = -0.0546)</td>
						<td>Probably not (p = 0.0892)</td>
					</tr>
				</tbody>
			</table>
			<p>EXPLANATION of results...</p>
		</div>
	</div>
	
	<div class='page'>
		<div class='text-column'>
			<h1>Are Longer Relationships Happier?</h1>
			<div class='graph scatter' data-x='how_long_ago_first_romantic' data-y='relationship_quality'></div>
			<table class='stats'>
				<thead>
					<tr>
						<td>Correlation</td>
						<td>Significant?</td>
					</tr>
				</thead>
				<tbody>
					<tr>
						<td>A little bit positive (Pearson coefficient = 0.10942)</td>
						<td>Yes (p = 0.00064)</td>
					</tr>
				</tbody>
			</table>
			<p>EXPLANATION of results...</p>
		</div>
	</div>

	<div class='page'>
		<div class='text-column'>
			<h1>Does income affect relationship quality?</h1>
			<div class='graph' data-x='hhinc' data-y='relationship_quality'></div>
			<table class='stats'>
				<thead>
					<tr>
						<td>Correlation</td>
						<td>Significant?</td>
					</tr>
				</thead>
				<tbody>
					<tr>
						<td>Positive (Pearson coefficient = 0.10466)</td>
						<td>Yes (p = 0.00010)</td>
					</tr>
				</tbody>
			</table>
			<p>EXPLANATION of results...</p>
		</div>
	</div>

	<div class='page'>
		<div class='text-column'>
			<h1>Does parental approval matter?</h1>
			<div class='graph distribution' data-x='relationship_quality' data-segment='parental_approval' data-buckets='4'></div>
			<table class='stats'>
				<thead>
					<tr>
						<td>Correlation</td>
						<td>Significant?</td>
					</tr>
				</thead>
				<tbody>
					<tr>
						<td>Positive (Pearson coefficient = 0.37871)</td>
						<td>Definitely (p = 0.00001)</td>
					</tr>
				</tbody>
			</table>
			<p>EXPLANATION of results...</p>
		</div>
	</div>
	
	<div class='page'>
		<div class='text-column'>
			<h1>Do Couples Have the Same Levels of Education?</h1>
			<div class='graph scatter' data-x='respondent_yrsed' data-y='partner_yrsed'></div>
			<table class='stats'>
				<thead>
					<tr>
						<td>Correlation</td>
						<td>Significant?</td>
					</tr>
				</thead>
				<tbody>
					<tr>
						<td>Positive (Pearson coefficient = 0.410006)</td>
						<td>Definitely (p &lt; 0.0001)</td>
					</tr>
				</tbody>
			</table>
			<p>EXPLANATION of results...</p>
		</div>
	</div>

	<div class='page'>
	  <div class='text-column'>
	    <h1><u>Building a Classifier</u></h1>
	      <p>To start building the classifier, we needed to modify the data we collected. Some of the features we wished to test weren't binary to start with. For example, "age difference" was a feature we wished to include. This started out as a range of numbers and we were able to convert it into 0 or 1 depending on the value. If the age difference between partners was less than 5 years the value became 0. If the age difference was greater than or equal to 5 years, the value became 1.</p>
	      <p>Another issue we ran into was missing data. Some of the interviewees refused to answer certain questions, so there were plenty of "observation" with a missing feature. Instead of throwing the data out, we decided to do some research on how to best deal with the problem. We settled on assigning that a missing feature randomly to 0 or 1. Other options were computationally intensive and seemed unnecessary.<p>
	      <p>Finally, with a set of observations composed of features and a set of observation labels indicating if that couple was still together or not, we could start building classifiers. We decided to test four different classifiers:
		  <ul>
		    <li>Decision Tree</li>
		    <li>Naive Bayes</li>
		    <li>Support Vector Machine</li>
		    <li>Logistic Regression</li>
		  </ul>
	      </p>
	      <p>Since some of the data was random, we tested each classifier repeatedly. Averaging over 20 different runs, we found that the average 10-fold cross validation mean for the different classifiers were:
		  <ul>
		    <li>Decision Tree: 0.673198541538</li>
		    <li>Naive Bayes: 0.698055972092</li>
		    <li>Support Vector Machine: 0.697729433245</li>
		    <li>Logistic Regression: 0.697648221379</li>
		  </ul>
We ran this test roughly 10 more times just to ensure consistency and found that Naive Bayes was consistenly slightly better than the rest of the classifiers, at least according to cross validation statistic.
	      </p>
	      <p>Finally, we returned a Naive Bayes classifier and built a web engine on top of it to create the quiz below!</p>
	  </div>
	</div>


	<div class='page full-height red vertically-centered-outer'>
		<div class='vertically-centered-inner'>
			<div class='text-column'>
				<h1>Take the Quiz</h1>
				<p>Let's explain a bit about the methodology behind our classifier and how <em>you too</em> can classify your relationship and determine your chances of breaking up. </p>
				<p><br/><a href='/quiz' class='button' id='take-quiz'>Take the quiz</a></p>
			</div>
		</div>
	</div>

	<div class='page'>
	  <div class='text-column'>
	    <h1><u>Conclusions</u></h1>
	       <p>	Going back to our original hypothesis, we can conclude that relationships between people with certain demographic similarities are indeed more successful. A “successful relationship” is measured by both self-assessed relationship quality and the length of the relationship. Our research indicated that both of these two measures of relationship quality are actually very correlated. The two variables have a Pearson correlation of 0.109 which is very significant as it is far greater than the critical p-value of 0.006. We found that most people tend to enter relationships with people with a similar level of education to themselves. Most respondents self-identified their relationships as being of a high quality and having a similar level of education was an important component of that. One partner’s level of education is highly correlated with the other partner’s level of education. Other demographic factors did not prove to be very significant when looking at how successful a relationship is. Both partners being of a similar age was not a significant factor at all and age difference did not prove to have much of an effect on the quality of a relationship. The two factors had a correlation coefficient of -.05, which is less than the critical p-value of 0.089. We also explored other demographic factors with respect to relationship success. Both race and religion proved to be very correlated with these outcomes. That is, respondents who had the same religion or race as their partner in the survey are more likely to be in a relationship that lasts longer. In addition, we found some interesting relationships between factors we did not think would be as relevant. Household income turned out to be correlated with self-assessed relationship quality with a correlation coefficient of 0.105 and p-value of 0.001. Similarly, parental approval is significantly correlated with self-assessed relationship quality with pearson coefficient 0.378 and p-value 0.0001. We also looked at relationships between different demographic traits and how attractive someone finds their partner as we found mutual attraction is an important factor in having a successful relationship. We checked this using two-sided t-tests in order to compare demographic factors by splitting people into two groups. Our conclusion is that people that are of the same or different race as their partner have different perceptions of the attractiveness of their partner.  The likelihood of partners who are of of the same or different races having different perceptions of the attractiveness of their partner has a p-value of 0.0057, which is significant as it below the critical level of 0.1 that we used. All of the other factors that we checked including income, religion, and whether or not the couple are married did not prove to have a significant effect when split into two groups on how attractive one person perceived their partner as. Our investigations proved some of our initial hypothesis about similar demographic factors leading to more successful relationships as correct, while some factors proved to not be very significant. We also were able to further develop our view of what exactly constitutes as a successful relationship. 

            Looking back at our project proposal, we managed to accomplish most of the goals that we set out to accomplish. We explored the interesting relationships between data that we had set out to do. We managed to develop a good understanding of what factors are correlated with relationship success and which ones aren’t. We were also able to find out what factors are likely to make a relationship last longer. We weren’t as successful with analyzing results across different types of relationships. We looked at results across same-sex/heterosexual and married/unmarried relationships, but results were not significant. This could either be because of our dataset not being sufficient for these purposes or because there is actually no correlation, but this would require further investigation. We did manage to accomplish all we had set out as a goal for 125% of our targets. 
			</p>
		<h2>Improvements</h2>

           <p>We can improve our classifier by incorporating additional data into it. We currently use variables that we were able to convert into a binary format. This allowed us to construct a basic classifier. However, we can refine this further by adding more data into it. This would involve finding a way to put more data into a numerical format. Since some of the questions are not yes or no, we would need to develop categories that map certain answers to questions to numbers in a more sophisticated way. We would also need to split up certain questions into a series of yes or no questions so that they data could be made binary in order to develop a more effective classifier. 
           </p>
	    <h2>Future Work</h2>
	       <p>In the future, we would like to expand the scope of our research to include more data. We found that this dataset came with some limitations for our purposes. One of the main measures of whether or not a relationship was successful that we used was self-assessed relationship quality. The data demonstrates that a larger proportion of people self identify their relationship as being of a high quality. For a more accurate representation of this, we could in the future use a different data set that objectively assesses relationship quality based on external factors. We could also consider conducting our own survey for this purpose and for a more focused take on the factors that we found important including education and race. The data could also be more diverse as the amount of respondents that fit into certain demographic groups, such as same sex couples, was not high enough to be able to accurately analyze trends regarding them. 
	       </p>

           
	  </div>
	</div>
	
</body>
</html>
